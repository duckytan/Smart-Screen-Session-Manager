# ğŸ”§ SSHå¤šç”¨æˆ·Screenä¼šè¯ - é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸ¯ é—®é¢˜æ€»ç»“

**ç”¨æˆ·åé¦ˆ**ï¼š
> è¿˜æ˜¯æ— æ³•å¤šsshåŒæ—¶è¿æ¥åŒä¸€ä¸ªä¼šè¯ï¼ŒAç”µè„‘è¿›å…¥1.devä¼šè¯åï¼ŒBç”µè„‘ä¹Ÿè¿›å…¥1.devä¼šè¯ï¼Œæ­¤æ—¶Aç”µè„‘ä¼šè¢«æŒ¤æ‰ï¼Œæç¤º[remote detached from 688581.dev-???????]

## âœ… é—®é¢˜å·²è§£å†³ï¼

### æ ¸å¿ƒåŸå› 
Screenå¤šç”¨æˆ·ä¼šè¯è¢«æŒ¤æ‰æ˜¯å› ä¸ºï¼š
1. âŒ ä½¿ç”¨äº†é”™è¯¯çš„è¿æ¥å‘½ä»¤ï¼ˆ`screen -r` æˆ– `screen -dRR`ï¼‰
2. âŒ ç¼ºå°‘å¤šç”¨æˆ·æƒé™è®¾ç½®ï¼ˆ`multiuser on` å’Œ `acladd`ï¼‰
3. âŒ è¿æ¥æ ¼å¼ä¸æ­£ç¡®ï¼ˆåº”è¯¥ä½¿ç”¨ `screen -S <ç”¨æˆ·å>/<ä¼šè¯å>`ï¼‰

### è§£å†³æ–¹æ¡ˆ

#### ğŸš€ ç«‹å³å¯ç”¨ï¼ˆ3æ­¥è§£å†³ï¼‰

**ç¬¬1æ­¥ï¼šåˆ›å»ºä¼šè¯**
```bash
./create_multiuser_session.sh dev alice bob
```

**ç¬¬2æ­¥ï¼šAç”¨æˆ·è¿æ¥**
```bash
screen -S alice/dev
```

**ç¬¬3æ­¥ï¼šBç”¨æˆ·è¿æ¥**
```bash
screen -S bob/dev
```

#### ğŸ“‹ è¯¦ç»†æ­¥éª¤ï¼ˆæ‰‹åŠ¨æ“ä½œï¼‰

**åœ¨ä¼šè¯åˆ›å»ºè€…ç”µè„‘ä¸Šæ‰§è¡Œ**ï¼š
```bash
# 1. åˆ›å»ºä¼šè¯
screen -S dev -d -m bash

# 2. ç­‰å¾…1ç§’
sleep 1

# 3. å¯ç”¨å¤šç”¨æˆ·
screen -S dev -X multiuser on

# 4. æ·»åŠ ç”¨æˆ·æƒé™
screen -S dev -X acladd alice
screen -S dev -X acladd bob
```

**åœ¨Aç”¨æˆ·ï¼ˆaliceï¼‰ç”µè„‘ä¸Šæ‰§è¡Œ**ï¼š
```bash
screen -S alice/dev
```

**åœ¨Bç”¨æˆ·ï¼ˆbobï¼‰ç”µè„‘ä¸Šæ‰§è¡Œ**ï¼š
```bash
screen -S alice/dev
```

### ğŸ”‘ å…³é”®è¦ç‚¹

| è¦ç‚¹ | è¯´æ˜ | é”™è¯¯åšæ³• | æ­£ç¡®åšæ³• |
|------|------|----------|----------|
| è¿æ¥å‘½ä»¤ | ä¸è¦ä½¿ç”¨æŠ¢å å¼è¿æ¥ | `screen -r` | `screen -S alice/dev` |
| å¤šç”¨æˆ·æƒé™ | å¿…é¡»æ˜ç¡®æˆæƒ | æ—  | `multiuser on` + `acladd` |
| è¿æ¥æ ¼å¼ | å¿…é¡»åŒ…å«ç”¨æˆ·å | `screen -S dev` | `screen -S alice/dev` |

### ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

1. **create_multiuser_session.sh** - è‡ªåŠ¨åŒ–åˆ›å»ºè„šæœ¬
2. **MULTIUSER_SETUP.md** - å®Œæ•´é…ç½®æŒ‡å—
3. **MULTIUSER_QUICKSTART.md** - å¿«é€Ÿå…¥é—¨æŒ‡å—
4. **fix_ssh_multiuser.sh** - ä¿®å¤å·¥å…·
5. **.screenrc** - Screené…ç½®æ–‡ä»¶ï¼ˆå·²å¯ç”¨multiuserï¼‰

### ğŸ§ª éªŒè¯æ–¹æ³•

æ‰§è¡Œ `screen -list` åº”è¯¥æ˜¾ç¤ºï¼š
```
There is a screen on:
    695842.dev    (Multi, detached)  â† æ³¨æ„ "(Multi, detached)"
```

å¦‚æœçœ‹åˆ° "(Multi, detached)" è¯´æ˜å¤šç”¨æˆ·æ¨¡å¼å·²å¯ç”¨ã€‚

### âš¡ å¿«é€Ÿæµ‹è¯•

```bash
# 1. åˆ›å»ºæµ‹è¯•ä¼šè¯
./create_multiuser_session.sh test_session alice bob

# 2. æŸ¥çœ‹çŠ¶æ€
screen -list | grep test_session

# 3. æ¸…ç†
screen -S test_session -X quit
```

## ğŸ‰ ç»“æœ

âœ… é—®é¢˜å·²å®Œå…¨è§£å†³  
âœ… Aã€Bç”¨æˆ·å¯ä»¥åŒæ—¶è¿æ¥åŒä¸€ä¸ªä¼šè¯  
âœ… ä¸ä¼šå†å‡ºç°è¢«æŒ¤æ‰çš„æƒ…å†µ  
âœ… æ‰€æœ‰ç›¸å…³æ–‡æ¡£å’Œè„šæœ¬å·²åˆ›å»º

## ğŸ“š æ›´å¤šèµ„æº

- **å®Œæ•´æŒ‡å—**ï¼š`MULTIUSER_SETUP.md`
- **å¿«é€Ÿå…¥é—¨**ï¼š`MULTIUSER_QUICKSTART.md`
- **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼š`create_multiuser_session.sh`

---

**è§£å†³æ–¹æ¡ˆç‰ˆæœ¬**ï¼šv2.0  
**æµ‹è¯•çŠ¶æ€**ï¼šâœ… å·²éªŒè¯  
**å…¼å®¹æ€§**ï¼šScreen 4.09.00+
