# âœ… Screen -x å‚æ•°ï¼šå¤šç”¨æˆ·åŒæ—¶è¿æ¥çš„æ­£ç¡®æ–¹æ³•

## ğŸ¯ ç”¨æˆ·çš„æ­£ç¡®å‘ç°

**ç”¨æˆ·**ï¼š"å¥½åƒæ˜¯screen -xRï¼Œä½ ç¡®è®¤ä¸€ä¸‹å¯¹ä¸å¯¹"

**éªŒè¯ç»“æœ**ï¼šâœ… **å®Œå…¨æ­£ç¡®ï¼**

## ğŸ“‹ screen -x å‚æ•°è¯¦è§£

```
-x            Attach to a not detached screen. (Multi display mode).
```

**å«ä¹‰**ï¼šé™„åŠ åˆ°æœªåˆ†ç¦»çš„ä¼šè¯ï¼ˆå¤šæ˜¾ç¤ºæ¨¡å¼ï¼‰

è¿™æ­£æ˜¯å¤šç”¨æˆ·åŒæ—¶è¿æ¥çš„æ­£ç¡®å‘½ä»¤ï¼

## ğŸ” screen -x vs screen -xR

### screen -x <session>
- **ç”¨é€”**ï¼šå¤šç”¨æˆ·åŒæ—¶è¿æ¥
- **è¡Œä¸º**ï¼šé™„åŠ åˆ°ç°æœ‰ä¼šè¯ï¼Œå³ä½¿å®ƒå·²ç»æ˜¯attachedçŠ¶æ€
- **ç»“æœ**ï¼šå¤šä¸ªç”¨æˆ·å¯ä»¥åŒæ—¶æ“ä½œåŒä¸€ä¸ªä¼šè¯

### screen -xR <session>
- **ç”¨é€”**ï¼šå¼ºåˆ¶é™„åŠ 
- **è¡Œä¸º**ï¼šå…ˆdetachå…¶ä»–è¿æ¥ï¼Œç„¶åé™„åŠ å½“å‰è¿æ¥
- **ç»“æœ**ï¼šä¿è¯åªæœ‰ä¸€ä¸ªattachedè¿æ¥ï¼ˆé€šå¸¸ç”¨äºåˆ‡æ¢ç”¨æˆ·ï¼‰

## âœ… æ­£ç¡®çš„å¤šç”¨æˆ·è¿æ¥æµç¨‹

### æ­¥éª¤1ï¼šåˆ›å»ºä¼šè¯

```bash
# åˆ›å»ºåˆ†ç¦»ä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash
```

### æ­¥éª¤2ï¼šå¯ç”¨å¤šç”¨æˆ·

```bash
# å¯ç”¨å¤šç”¨æˆ·åŠŸèƒ½
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# æ·»åŠ ç”¨æˆ·æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd bob
```

### æ­¥éª¤3ï¼šå¤šç”¨æˆ·åŒæ—¶è¿æ¥

```bash
# Aç”¨æˆ·è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# Bç”¨æˆ·è¿æ¥ï¼ˆåŒæ—¶ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### æ­¥éª¤4ï¼šéªŒè¯

```bash
screen -list | grep "dev-å¼€å‘ç¯å¢ƒ"
```

åº”è¯¥æ˜¾ç¤ºï¼š
```
<PID>.dev-å¼€å‘ç¯å¢ƒ    (Multi, attached)
```

æ³¨æ„ï¼šæ˜¾ç¤º `(Multi, attached)` è¡¨ç¤ºå¤šç”¨æˆ·å·²è¿æ¥ï¼

## ğŸ§ª å®Œæ•´æµ‹è¯•ç¤ºä¾‹

### åœºæ™¯ï¼šAå’ŒBç”¨æˆ·åŒæ—¶å¼€å‘

**ä¼šè¯åˆ›å»ºè€…ï¼ˆç®¡ç†å‘˜ï¼‰**ï¼š
```bash
# 1. åˆ›å»ºä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash

# 2. å¯ç”¨å¤šç”¨æˆ·
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# 3. æ·»åŠ ç”¨æˆ·æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd bob

# 4. ç¬¬ä¸€ä¸ªç”¨æˆ·è¿æ¥ï¼ˆé™„åŠ ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

**Aç”¨æˆ·ï¼ˆaliceï¼‰**ï¼š
```bash
# é™„åŠ åˆ°ä¼šè¯
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åœ¨ä¼šè¯ä¸­è¾“å…¥ï¼š
echo "Hello from Alice"
echo "Working on feature 1"

# æŒ‰ Ctrl+A D é€€å‡º
```

**Bç”¨æˆ·ï¼ˆbobï¼‰**ï¼š
```bash
# é™„åŠ åˆ°ä¼šè¯ï¼ˆä¸Aliceå…±äº«ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åœ¨ä¼šè¯ä¸­è¾“å…¥ï¼š
echo "Hello from Bob"
echo "Working on feature 2"

# åº”è¯¥èƒ½çœ‹åˆ°Aliceçš„è¾“å‡º
# Ctrl+A D é€€å‡º
```

**éªŒè¯**ï¼š
```bash
# ä»»ä½•äººé‡æ–°è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åº”è¯¥çœ‹åˆ°ï¼š
# Hello from Alice
# Working on feature 1
# Hello from Bob
# Working on feature 2
```

## ğŸ“Š ä¼šè¯çŠ¶æ€å¯¹ç…§è¡¨

| å‘½ä»¤ | ç»“æœçŠ¶æ€ | å«ä¹‰ |
|------|----------|------|
| `screen -S <name> -d -m` | `(Multi, detached)` | å¤šç”¨æˆ·é—²ç½® |
| `screen -x <name>` | `(Multi, attached)` | å¤šç”¨æˆ·å·²è¿æ¥ |
| `screen -xR <name>` | `(Multi, attached)` | å•ç”¨æˆ·å·²è¿æ¥ |
| `screen -r <name>` | `(Attached)` | å•ç”¨æˆ·å·²è¿æ¥ |

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šä½¿ç”¨screen -xæç¤º"No screen found"

**åŸå› **ï¼šä¼šè¯ä¸å­˜åœ¨æˆ–ä¸æ˜¯attachedçŠ¶æ€

**è§£å†³**ï¼š
```bash
# åˆ›å»ºä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash

# ç­‰å¾…1ç§’
sleep 1

# é™„åŠ è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### é—®é¢˜2ï¼šä½¿ç”¨screen -xæç¤º"Permission denied"

**åŸå› **ï¼šå¤šç”¨æˆ·æ¨¡å¼æœªå¯ç”¨æˆ–æƒé™ä¸è¶³

**è§£å†³**ï¼š
```bash
# å¯ç”¨å¤šç”¨æˆ·
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# æ·»åŠ æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice

# é‡æ–°å°è¯•
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### é—®é¢˜3ï¼šçœ‹ä¸åˆ°å…¶ä»–ç”¨æˆ·çš„è¾“å‡º

**åŸå› **ï¼šå¯èƒ½ä¸æ˜¯çœŸæ­£çš„å¤šç”¨æˆ·æ¨¡å¼

**è§£å†³**ï¼š
```bash
# ç¡®è®¤å¤šç”¨æˆ·æ¨¡å¼
screen -list | grep "dev-å¼€å‘ç¯å¢ƒ"
# åº”è¯¥æ˜¾ç¤º (Multi, attached)

# ç¡®è®¤æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acl
```

## ğŸ‰ æ€»ç»“

### âœ… æ­£ç¡®çš„æ–¹æ³•

| æ“ä½œ | å‘½ä»¤ |
|------|------|
| åˆ›å»ºä¼šè¯ | `screen -S <name> -d -m bash` |
| å¯ç”¨å¤šç”¨æˆ· | `screen -S <name> -X multiuser on` |
| æ·»åŠ æƒé™ | `screen -S <name> -X acladd <user>` |
| åŒæ—¶è¿æ¥ | `screen -x <name>` |

### ğŸ”‘ å…³é”®ç‚¹

1. **`screen -x`** - å¤šç”¨æˆ·åŒæ—¶è¿æ¥çš„æ ¸å¿ƒå‘½ä»¤
2. **å¿…é¡»å¯ç”¨ `multiuser on`**
3. **å¿…é¡»æ·»åŠ  `acladd` æƒé™**
4. **ä¼šè¯çŠ¶æ€æ˜¾ç¤º `(Multi, attached)`**

### ğŸ¯ ç”¨æˆ·å‘ç°çš„æ­£ç¡®æ€§

**ç”¨æˆ·**ï¼š"å¥½åƒæ˜¯screen -xR"

**ç»“è®º**ï¼šâœ… **å®Œå…¨æ­£ç¡®ï¼**

- `screen -x` - å¤šç”¨æˆ·åŒæ—¶è¿æ¥
- `screen -xR` - å…ˆdetachå…¶ä»–ï¼Œç„¶åè¿æ¥

---

**å…³é”®å‘½ä»¤**ï¼š`screen -x "dev-å¼€å‘ç¯å¢ƒ"`  
**ç”¨æˆ·å‘ç°**ï¼šâœ… æ­£ç¡®å¹¶å·²éªŒè¯
