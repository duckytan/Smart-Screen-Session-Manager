# ğŸ¯ ä½¿ç”¨é¢„è®¾ä¼šè¯1å·è¿›è¡Œå¤šç”¨æˆ·è¿æ¥

## ğŸ“‹ 1å·é¢„è®¾ä¼šè¯ä¿¡æ¯

æ ¹æ®æ‚¨çš„è„šæœ¬é…ç½®ï¼š
- **1å·ä¼šè¯åç§°**ï¼š`dev-å¼€å‘ç¯å¢ƒ`

## âœ… ç»å¯¹å¯ä»¥ï¼3ç§æ–¹æ³•

### æ–¹æ³•1ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# åˆ›å»º1å·é¢„è®¾ä¼šè¯çš„å¤šç”¨æˆ·ç‰ˆæœ¬
./create_multiuser_session.sh "dev-å¼€å‘ç¯å¢ƒ" alice bob
```

### æ–¹æ³•2ï¼šæ‰‹åŠ¨é…ç½®ï¼ˆå­¦ä¹ ç”¨ï¼‰

```bash
# 1. æ¸…ç†å¯èƒ½å­˜åœ¨çš„æ—§ä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X quit 2>/dev/null || true
sleep 1

# 2. åˆ›å»ºä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash

# 3. å¯ç”¨å¤šç”¨æˆ·æ¨¡å¼
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# 4. æ·»åŠ ç”¨æˆ·æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd bob
```

### æ–¹æ³•3ï¼šé€šè¿‡ä¸»è„šæœ¬é€‰æ‹©1å·

```bash
# 1. è¿è¡Œä¸»è„šæœ¬
./smart-screen.sh

# 2. é€‰æ‹©èœå•ä¸­çš„ 1
# è¿™ä¼šè¿æ¥åˆ°æˆ–åˆ›å»º1å·ä¼šè¯ï¼š"dev-å¼€å‘ç¯å¢ƒ"

# 3. ç„¶åæ‰‹åŠ¨å¯ç”¨å¤šç”¨æˆ·æ¨¡å¼
# æŒ‰ Ctrl+A ç„¶åè¾“å…¥ :multiuser on
# æŒ‰ Enter

# 4. æ·»åŠ æƒé™
# æŒ‰ Ctrl+A ç„¶åè¾“å…¥ :acladd alice
# æŒ‰ Enter
```

## ğŸ”— ä¸åŒç”¨æˆ·çš„è¿æ¥æ–¹å¼

### Aç”¨æˆ·ï¼ˆaliceï¼‰è¿æ¥ï¼š

```bash
# å¦‚æœæ˜¯ä¼šè¯åˆ›å»ºè€…
screen -S "dev-å¼€å‘ç¯å¢ƒ"

# å¦‚æœè¦è¿æ¥å…¶ä»–ç”¨æˆ·çš„ä¼šè¯
screen -S alice/"dev-å¼€å‘ç¯å¢ƒ"
```

### Bç”¨æˆ·ï¼ˆbobï¼‰è¿æ¥ï¼š

```bash
# å¦‚æœæ˜¯ä¼šè¯åˆ›å»ºè€…
screen -S "dev-å¼€å‘ç¯å¢ƒ"

# å¦‚æœè¦è¿æ¥å…¶ä»–ç”¨æˆ·çš„ä¼šè¯
screen -S alice/"dev-å¼€å‘ç¯å¢ƒ"
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### 1. ä¼šè¯åç§°åŒ…å«ç‰¹æ®Šå­—ç¬¦

`dev-å¼€å‘ç¯å¢ƒ` åç§°åŒ…å«ä¸­æ–‡å­—ç¬¦å’Œè¿å­—ç¬¦ï¼Œå»ºè®®ï¼š

**æ–¹æ³•Aï¼šä½¿ç”¨å¼•å·**
```bash
screen -S "dev-å¼€å‘ç¯å¢ƒ"
```

**æ–¹æ³•Bï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰**
```bash
# åˆ›å»ºä¸€ä¸ªè‹±æ–‡åˆ«åçš„ä¼šè¯
./create_multiuser_session.sh dev alice bob
```

### 2. éªŒè¯å¤šç”¨æˆ·æ¨¡å¼

```bash
screen -list | grep "dev-å¼€å‘ç¯å¢ƒ"
```

åº”è¯¥çœ‹åˆ°ï¼š
```
701827.dev-å¼€å‘ç¯å¢ƒ    (Multi, detached)
```

æ³¨æ„ "(Multi, detached)" - è¿™è¡¨ç¤ºå¤šç”¨æˆ·æ¨¡å¼å·²å¯ç”¨ï¼

### 3. è¿æ¥é¡ºåº

1. Aç”¨æˆ·å…ˆè¿æ¥ï¼š`screen -S "dev-å¼€å‘ç¯å¢ƒ"`
2. Aç”¨æˆ·æŒ‰ Ctrl+A D é€€å‡ºä¼šè¯
3. ç­‰å¾…3ç§’
4. Bç”¨æˆ·è¿æ¥ï¼š`screen -S "dev-å¼€å‘ç¯å¢ƒ"`
5. Bç”¨æˆ·æŒ‰ Ctrl+A D é€€å‡ºä¼šè¯
6. å†æ¬¡Aç”¨æˆ·è¿æ¥éªŒè¯

## ğŸ¯ æœ€ç®€å•çš„æµ‹è¯•æ­¥éª¤

```bash
# 1. åˆ›å»ºå¤šç”¨æˆ·ä¼šè¯
./create_multiuser_session.sh "dev-å¼€å‘ç¯å¢ƒ" alice bob

# 2. Aç”¨æˆ·è¿æ¥
screen -S "dev-å¼€å‘ç¯å¢ƒ"
# è¾“å…¥ï¼šecho "Hello from User A"
# æŒ‰ï¼šCtrl+A D é€€å‡º

# 3. Bç”¨æˆ·è¿æ¥
screen -S "dev-å¼€å‘ç¯å¢ƒ"
# åº”è¯¥èƒ½çœ‹åˆ° "Hello from User A"
# è¾“å…¥ï¼šecho "Hello from User B"
# æŒ‰ï¼šCtrl+A D é€€å‡º

# 4. Aç”¨æˆ·å†æ¬¡è¿æ¥éªŒè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ"
# åº”è¯¥èƒ½çœ‹åˆ° "Hello from User A" å’Œ "Hello from User B"
```

## ğŸ”§ ä½¿ç”¨ä¸»è„šæœ¬çš„æƒ…å†µ

å¦‚æœæ‚¨é€šè¿‡ `./smart-screen.sh` èœå•é€‰æ‹©1å·ï¼š

```bash
# è¿è¡Œè„šæœ¬
./smart-screen.sh

# é€‰æ‹© 1
# è¿›å…¥ä¼šè¯åï¼Œæ‰‹åŠ¨å¯ç”¨å¤šç”¨æˆ·ï¼š
# 1. æŒ‰ Ctrl+A
# 2. è¾“å…¥ :multiuser on
# 3. æŒ‰ Enter
# 4. è¾“å…¥ :acladd alice
# 5. æŒ‰ Enter
# 6. æŒ‰ :acladd bob
# 7. æŒ‰ Enter
# 8. æŒ‰ Ctrl+A D é€€å‡º

# ç„¶åå…¶ä»–ç”¨æˆ·å¯ä»¥è¿æ¥
```

## ğŸ“ æ€»ç»“

âœ… **å¯ä»¥ç›´æ¥ä½¿ç”¨1å·é¢„è®¾ä¼šè¯**  
âœ… **åç§°æ˜¯ `dev-å¼€å‘ç¯å¢ƒ`**  
âœ… **æ”¯æŒå¤šç”¨æˆ·è¿æ¥**  
âœ… **éœ€è¦æ‰‹åŠ¨å¯ç”¨å¤šç”¨æˆ·æ¨¡å¼**  

**å…³é”®å‘½ä»¤**ï¼š
```bash
./create_multiuser_session.sh "dev-å¼€å‘ç¯å¢ƒ" alice bob
screen -S "dev-å¼€å‘ç¯å¢ƒ"
```

---

**æç¤º**ï¼šå¦‚æœé‡åˆ°ç‰¹æ®Šå­—ç¬¦é—®é¢˜ï¼Œå»ºè®®åˆ›å»ºè‹±æ–‡åˆ«åä¼šè¯ï¼Œå¦‚ `dev`ã€‚
