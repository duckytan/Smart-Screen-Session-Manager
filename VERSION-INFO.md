# 🚀 服务器配置脚本版本说明

## 📋 版本概览

本项目提供 **两个版本** 的服务器配置脚本，适用于不同的使用场景：

| 特性 | 公开版本 | 私人版本 |
|------|---------|---------|
| **文件名** | `server-setup-public.sh` | `server-setup-private.sh` |
| **API密钥** | ❌ 无 | ✅ 包含所有密钥 |
| **GitHub Token** | ❌ 无 | ✅ 已配置 |
| **适用场景** | 分享、开源、学习 | 个人使用、私有环境 |
| **安全等级** | 🟢 高 | 🟡 中 |
| **开箱即用** | ❌ 需手动配置 | ✅ 自动配置 |

---

## 🔓 公开版本 (`server-setup-public.sh`)

### 特性
- ✅ **安全无敏感信息** - 不包含任何API密钥或Token
- ✅ **适用于分享** - 可以安全地分享给他人
- ✅ **适用于开源** - 可以上传到GitHub等公开仓库
- ✅ **完整功能** - 包含所有安装和配置功能
- ⚠️ **需手动配置** - 使用前需要手动添加API密钥

### 使用场景
- 🌍 **开源项目** - 贡献给社区或开源项目
- 👥 **团队分享** - 分享给团队成员使用
- 📚 **学习测试** - 用于学习和测试环境
- 🎓 **教学演示** - 用于教学或演示目的

### 使用方法
```bash
# 1. 运行脚本
chmod +x server-setup-public.sh
./server-setup-public.sh

# 2. 手动配置认证信息
export GH_TOKEN="your_github_personal_access_token"
export MINIMAX_API_KEY="your_minimax_api_key"

# 3. 重载配置
source ~/.bashrc && nvm use 20
```

### 注意事项
- ⚠️ 使用前需要先获取自己的API密钥
- ⚠️ GitHub Token需要手动创建
- ✅ 脚本会提示需要配置的内容

---

## 🔒 私人版本 (`server-setup-private.sh`)

### 特性
- ✅ **开箱即用** - 包含所有API密钥和Token
- ✅ **自动配置** - 自动配置所有认证信息
- ✅ **完整功能** - 包含所有安装和配置功能
- ⚠️ **包含敏感信息** - 包含API密钥，请妥善保管
- 🚨 **禁止分享** - 不要上传到公开仓库

### 使用场景
- 🏠 **个人私有环境** - 在自己的服务器上使用
- 💼 **公司内部** - 在公司内部环境使用
- 🔐 **私有项目** - 私有项目中使用
- ⚡ **快速部署** - 需要快速搭建环境时

### 使用方法
```bash
# 1. 运行脚本（会显示安全警告）
chmod +x server-setup-private.sh
./server-setup-private.sh

# 2. 输入 'YES' 确认安装

# 3. 等待自动配置完成

# 4. 重载配置
source ~/.bashrc && nvm use 20
```

### 注意事项
- 🚨 **极度重要** - 包含敏感信息，请妥善保管
- 🚨 **不要上传** - 绝对不要上传到GitHub等公开仓库
- 🚨 **不要分享** - 不要分享给任何人
- ✅ **个人使用** - 仅用于个人私有环境
- ✅ **定期更换** - 建议定期更换API密钥

---

## 🛡️ 安全规则

### 📜 使用规则

#### ✅ 允许的行为
- 在个人私有服务器上使用私人版本
- 在公司内部环境使用（确保安全）
- 学习脚本逻辑和功能
- 基于公开版本进行二次开发

#### 🚫 禁止的行为
- 上传私人版本到任何公开仓库 (GitHub, GitLab, Gitee等)
- 分享私人版本给任何人
- 在论坛、博客等公开渠道发布私人版本
- 将私人版本用于商业项目分享

### 🔐 安全检查清单

使用前请确认：

- [ ] 了解两个版本之间的区别
- [ ] 确认使用场景适合的版本
- [ ] 私人版本仅在私有环境使用
- [ ] 不会将私人版本上传到公开仓库
- [ ] 定期检查和更换API密钥
- [ ] 妥善保管包含敏感信息的文件

---

## 📊 对比分析

| 对比维度 | 公开版本 | 私人版本 |
|---------|---------|---------|
| **安全性** | 🟢 高 | 🟡 中 |
| **便利性** | 🟡 中 | 🟢 高 |
| **分享性** | 🟢 强 | 🔴 禁止 |
| **维护性** | 🟢 易 | 🟡 中 |
| **学习性** | 🟢 强 | 🟡 中 |

---

## 🎯 推荐使用策略

### 场景1：开源项目贡献
```
使用版本：公开版本
原因：开源项目需要安全、可分享的脚本
```

### 场景2：个人服务器部署
```
使用版本：私人版本
原因：个人环境，快速部署，开箱即用
```

### 场景3：团队内部使用
```
使用版本：公开版本 + 手动配置
原因：团队共享，但需要各自配置自己的凭据
```

### 场景4：教学演示
```
使用版本：公开版本
原因：教学场景，展示脚本功能，不涉及敏感信息
```

### 场景5：公司项目
```
使用版本：私人版本（公司内部）
原因：公司内部环境，快速部署
```

---

## 🔧 技术实现

### 敏感信息处理

**公开版本：**
```bash
# 使用占位符
# export MINIMAX_API_KEY="your_api_key_here"

# 提供配置指导
echo -e "${YELLOW}⚠️  请手动配置以下认证信息：${NC}"
echo -e "${WHITE}  1. GitHub Token: ${CYAN}export GH_TOKEN=\"your_token_here\"${NC}"
```

**私人版本：**
```bash
# 使用readonly常量
readonly MINIMAX_API_KEY="sk-xxx..."
readonly GH_TOKEN="ghp_xxx..."

# 自动写入配置文件
export MINIMAX_API_KEY="$MINIMAX_API_KEY"
export GH_TOKEN="$GH_TOKEN"
```

### 错误处理

两个版本都包含：
- ✅ 网络连接检查
- ✅ 磁盘空间检查
- ✅ 权限验证
- ✅ 安装验证
- ✅ 详细的错误提示

---

## 📞 技术支持

### 常见问题

**Q: 公开版本需要哪些API密钥？**
A: 需要GitHub Personal Access Token和MiniMax API Key

**Q: 如何获取GitHub Token？**
A: 访问GitHub Settings → Developer settings → Personal access tokens → Tokens (classic)

**Q: 私人版本会被意外提交吗？**
A: 已配置.gitignore防止提交，但请手动确认

**Q: 可以修改私人版本吗？**
A: 可以，但请谨慎处理敏感信息

**Q: 忘记密码或Token怎么办？**
A: 登录对应平台重新生成，私人版本中的密钥可能已过期

---

## 📝 更新日志

### v2.0 (2026-01-23)
- ✅ 创建公开版本和私人版本
- ✅ 完整的安全检查机制
- ✅ 自动备份和恢复功能
- ✅ 详细的错误处理和验证
- ✅ 彩色输出和状态指示
- ✅ .gitignore安全规则

---

## ⚖️ 免责声明

1. **公开版本** - 安全无害，可自由使用和分享
2. **私人版本** - 包含敏感信息，使用者需自行承担安全责任
3. **作者不对私人版本的使用后果负责**
4. **请遵守相关平台的使用条款和法律法规**

---

## 🎉 结语

通过提供两个版本，我们在**安全性**和**便利性**之间找到了平衡：

- **公开版本**适合开源和分享
- **私人版本**适合个人和私有环境

请根据实际需求选择合适的版本，并严格遵守安全规则！

---

**版权信息** © 2026 | 使用前请阅读完整文档
