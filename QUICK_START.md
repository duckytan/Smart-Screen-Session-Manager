# Smart Screen 快速使用指南

## 🎯 修复后效果

✅ **SSH登录后自动进入菜单** - 无需按y确认
✅ **多用户可同时访问会话** - 无需手动添加权限

---

## 🚀 立即使用

### 方式1：重新SSH登录（推荐）

重新SSH登录服务器，登录后会自动进入smart-screen菜单：

```
╔════════════════════════════════════════════════════════════╗
║                Smart Screen Session Manager v2.0           ║
╠════════════════════════════════════════════════════════════╣
║  智能Screen会话管理器 - 预设会话、自动创建、SSH恢复         ║
╚════════════════════════════════════════════════════════════╝

📋 预设会话：

  [1] 📝 dev-开发环境 (未创建)
  [2] 📝 test-测试环境 (未创建)
  [3] 📝 prod-生产环境 (未创建)
  [4] 📝 db-数据库 (未创建)
  [5] 📝 monitor-监控 (未创建)
  [6] 📝 backup-备份 (未创建)
  [7] 📝 log-日志 (未创建)
  [8] 📝 debug-调试 (未创建)
  [9] 📝 research-研究 (未创建)

  [0] 📊 查看所有会话

请选择操作: _
```

### 方式2：手动运行

```bash
# 手动进入菜单
/root/smart-screen/smart-screen.sh
```

---

## 💡 使用示例

### 示例1：单用户创建会话

1. **选择1** - 创建dev-开发环境
2. 自动创建会话并进入
3. 按 `Ctrl+A` 然后按 `D` 退出会话

### 示例2：多用户协作（用户A和用户B）

**用户A：**
1. SSH登录 → 自动进入菜单
2. 选择1 → 创建dev会话
3. 进入会话开始工作

**用户B：**
1. SSH登录 → 自动进入菜单
2. 选择1 → **自动连接到用户A的dev会话**
3. **两个用户现在可以共同操作**

---

## 📋 操作指南

### 基本操作

| 操作 | 快捷键 |
|------|--------|
| 创建/连接会话 | 输入1-9 |
| 查看所有会话 | 输入0 |
| 退出screen会话 | `Ctrl+A` 然后 `D` |
| 重新进入菜单 | 重新SSH登录 |

### 会话内操作

| 操作 | 快捷键 |
|------|--------|
| 创建新窗口 | `Ctrl+A` 然后 `C` |
| 切换到下一个窗口 | `Ctrl+A` 然后 `N` |
| 切换到上一个窗口 | `Ctrl+A` 然后 `P` |
| 列出所有窗口 | `Ctrl+A` 然后 `W` |
| 切换到指定窗口 | `Ctrl+A` 然后输入窗口编号 |

---

## ❓ 常见问题

### Q1: SSH登录后没有自动进入菜单？

**A:** 重新SSH登录即可。如果仍未生效，运行：
```bash
source ~/.bashrc
```

### Q2: 用户B无法进入用户A的会话？

**A:** 已修复此问题。现在用户B选择相同编号即可自动连接。如果仍有问题，检查：
```bash
# 查看当前会话
screen -ls
```

### Q3: 如何查看会话状态？

**A:** 选择菜单中的 `0 - 查看所有会话`，或直接运行：
```bash
screen -ls
```

---

**享受流畅的多用户Screen会话管理体验！🚀**
