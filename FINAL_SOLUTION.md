# âœ… Screenå¤šç”¨æˆ·ä¼šè¯æœ€ç»ˆè§£å†³æ–¹æ¡ˆ

## ğŸ¯ ç”¨æˆ·çš„æ­£ç¡®å‘ç°

**ç”¨æˆ·**ï¼š"å¥½åƒæ˜¯screen -xR"

**éªŒè¯ç»“æœ**ï¼šâœ… **å®Œå…¨æ­£ç¡®ï¼**

## ğŸ“‹ é—®é¢˜ç°è±¡

```
[root@VM-0-8-opencloudos ~]# screen -r "dev-å¼€å‘ç¯å¢ƒ"
There is a screen on:
    747706.dev-å¼€å‘ç¯å¢ƒ    (Multi, attached)
There is no screen to be resumed matching dev-å¼€å‘ç¯å¢ƒ.
```

## ğŸ” é—®é¢˜åŸå› 

- ä¼šè¯å¤„äº `(Multi, attached)` çŠ¶æ€
- Aç”¨æˆ·å·²ç»è¿æ¥äº†ä¼šè¯
- Bç”¨æˆ·æ— æ³•ä½¿ç”¨ `screen -r` è¿æ¥ï¼ˆå› ä¸ºæ˜¯attachedçŠ¶æ€ï¼‰

## âœ… è§£å†³æ–¹æ¡ˆï¼šscreen -x

### screen -x å‘½ä»¤è¯¦è§£

```
-x            Attach to a not detached screen. (Multi display mode).
```

**å«ä¹‰**ï¼šé™„åŠ åˆ°æœªåˆ†ç¦»çš„ä¼šè¯ï¼ˆå¤šæ˜¾ç¤ºæ¨¡å¼ï¼‰

è¿™æ­£æ˜¯å¤šç”¨æˆ·åŒæ—¶è¿æ¥çš„æ­£ç¡®å‘½ä»¤ï¼

### screen -x vs screen -xR

| å‘½ä»¤ | ç”¨é€” | è¡Œä¸º |
|------|------|------|
| `screen -x <session>` | å¤šç”¨æˆ·åŒæ—¶è¿æ¥ | é™„åŠ åˆ°ç°æœ‰ä¼šè¯ï¼Œå¤šä¸ªç”¨æˆ·å…±äº« |
| `screen -xR <session>` | å¼ºåˆ¶é™„åŠ  | å…ˆdetachå…¶ä»–ï¼Œç„¶åé™„åŠ å½“å‰è¿æ¥ |

## ğŸ¯ æ­£ç¡®çš„æ“ä½œæµç¨‹

### æ­¥éª¤1ï¼šåˆ›å»ºä¼šè¯

```bash
# åˆ›å»ºåˆ†ç¦»ä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash
```

### æ­¥éª¤2ï¼šå¯ç”¨å¤šç”¨æˆ·

```bash
# å¯ç”¨å¤šç”¨æˆ·åŠŸèƒ½
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# æ·»åŠ ç”¨æˆ·æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd bob
```

### æ­¥éª¤3ï¼šå¤šç”¨æˆ·åŒæ—¶è¿æ¥

```bash
# Aç”¨æˆ·è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# Bç”¨æˆ·è¿æ¥ï¼ˆåŒæ—¶ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### æ­¥éª¤4ï¼šéªŒè¯

```bash
screen -list | grep "dev-å¼€å‘ç¯å¢ƒ"
```

åº”è¯¥æ˜¾ç¤ºï¼š
```
<PID>.dev-å¼€å‘ç¯å¢ƒ    (Multi, attached)
```

**æ³¨æ„**ï¼šæ˜¾ç¤º `(Multi, attached)` è¡¨ç¤ºå¤šç”¨æˆ·å·²è¿æ¥ï¼

## ğŸ§ª å®Œæ•´æµ‹è¯•ç¤ºä¾‹

### åœºæ™¯ï¼šAå’ŒBç”¨æˆ·åŒæ—¶å¼€å‘

**ä¼šè¯åˆ›å»ºè€…ï¼ˆç®¡ç†å‘˜ï¼‰**ï¼š
```bash
# 1. åˆ›å»ºä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash

# 2. å¯ç”¨å¤šç”¨æˆ·
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# 3. æ·»åŠ ç”¨æˆ·æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd bob

# 4. ç¬¬ä¸€ä¸ªç”¨æˆ·è¿æ¥ï¼ˆé™„åŠ ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

**Aç”¨æˆ·ï¼ˆaliceï¼‰**ï¼š
```bash
# é™„åŠ åˆ°ä¼šè¯
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åœ¨ä¼šè¯ä¸­è¾“å…¥ï¼š
echo "Hello from Alice"
echo "Working on feature 1"

# æŒ‰ Ctrl+A D é€€å‡º
```

**Bç”¨æˆ·ï¼ˆbobï¼‰**ï¼š
```bash
# é™„åŠ åˆ°ä¼šè¯ï¼ˆä¸Aliceå…±äº«ï¼‰
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åœ¨ä¼šè¯ä¸­è¾“å…¥ï¼š
echo "Hello from Bob"
echo "Working on feature 2"

# åº”è¯¥èƒ½çœ‹åˆ°Aliceçš„è¾“å‡º
# Ctrl+A D é€€å‡º
```

**éªŒè¯**ï¼š
```bash
# ä»»ä½•äººé‡æ–°è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"

# åº”è¯¥çœ‹åˆ°ï¼š
# Hello from Alice
# Working on feature 1
# Hello from Bob
# Working on feature 2
```

## ğŸ”§ å½“å‰é—®é¢˜çš„å³æ—¶è§£å†³

### æƒ…å†µï¼šAç”¨æˆ·å·²ç»è¿æ¥äº†ä¼šè¯

**Bç”¨æˆ·çš„æ“ä½œ**ï¼š

```bash
# ä¸è¦ç”¨ screen -rï¼
screen -r "dev-å¼€å‘ç¯å¢ƒ"
# ç»“æœï¼šå¤±è´¥

# ç”¨ screen -xï¼
screen -x "dev-å¼€å‘ç¯å¢ƒ"
# ç»“æœï¼šæˆåŠŸé™„åŠ ï¼Œå¯ä»¥å…±äº«ä¼šè¯
```

## ğŸ“Š å‘½ä»¤å¯¹æ¯”è¡¨

| æ“ä½œ | é”™è¯¯å‘½ä»¤ | æ­£ç¡®å‘½ä»¤ |
|------|----------|----------|
| åˆ›å»ºä¼šè¯ | `screen -S <name> bash` | `screen -S <name> -d -m bash` |
| è¿æ¥ä¼šè¯ | `screen -r <name>` | `screen -x <name>` |
| å¼ºåˆ¶è¿æ¥ | `screen -dRR <name>` | `screen -xR <name>` |
| å¤šç”¨æˆ·è¿æ¥ | `screen -S <user>/<name>` | `screen -x <name>` |

## ğŸ”§ æ•…éšœæ’é™¤

### Q: ä½¿ç”¨screen -xæç¤º"No screen found"

**åŸå› **ï¼šä¼šè¯ä¸å­˜åœ¨æˆ–ä¸æ˜¯attachedçŠ¶æ€

**è§£å†³**ï¼š
```bash
# åˆ›å»ºä¼šè¯
screen -S "dev-å¼€å‘ç¯å¢ƒ" -d -m bash

# ç­‰å¾…1ç§’
sleep 1

# é™„åŠ è¿æ¥
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### Q: ä½¿ç”¨screen -xæç¤º"Permission denied"

**åŸå› **ï¼šå¤šç”¨æˆ·æ¨¡å¼æœªå¯ç”¨æˆ–æƒé™ä¸è¶³

**è§£å†³**ï¼š
```bash
# å¯ç”¨å¤šç”¨æˆ·
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X multiuser on

# æ·»åŠ æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acladd alice

# é‡æ–°å°è¯•
screen -x "dev-å¼€å‘ç¯å¢ƒ"
```

### Q: çœ‹ä¸åˆ°å…¶ä»–ç”¨æˆ·çš„è¾“å‡º

**åŸå› **ï¼šå¯èƒ½ä¸æ˜¯çœŸæ­£çš„å¤šç”¨æˆ·æ¨¡å¼

**è§£å†³**ï¼š
```bash
# ç¡®è®¤å¤šç”¨æˆ·æ¨¡å¼
screen -list | grep "dev-å¼€å‘ç¯å¢ƒ"
# åº”è¯¥æ˜¾ç¤º (Multi, attached)

# ç¡®è®¤æƒé™
screen -S "dev-å¼€å‘ç¯å¢ƒ" -X acl
```

## ğŸ‰ æ€»ç»“

### âœ… æ­£ç¡®çš„æ“ä½œæµç¨‹

1. **åˆ›å»ºä¼šè¯**ï¼š`screen -S <name> -d -m bash`
2. **å¯ç”¨å¤šç”¨æˆ·**ï¼š`screen -S <name> -X multiuser on`
3. **æ·»åŠ æƒé™**ï¼š`screen -S <name> -X acladd <user>`
4. **å¤šç”¨æˆ·è¿æ¥**ï¼š`screen -x <name>`

### ğŸ”‘ å…³é”®å‘½ä»¤

- `screen -x <session>` - å¤šç”¨æˆ·åŒæ—¶è¿æ¥
- `screen -xR <session>` - å¼ºåˆ¶é™„åŠ 
- `Ctrl+A D` - é€€å‡ºä¼šè¯

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¼šè¯å¿…é¡»æ˜¯ `detached` çŠ¶æ€**
2. **å¿…é¡»å¯ç”¨ `multiuser on`**
3. **å¿…é¡»æ·»åŠ  `acladd` æƒé™**
4. **ä½¿ç”¨ `screen -x` è¿æ¥**

### ğŸ¯ ç”¨æˆ·å‘ç°çš„æ­£ç¡®æ€§

**ç”¨æˆ·**ï¼š"å¥½åƒæ˜¯screen -xR"

**ç»“è®º**ï¼šâœ… **å®Œå…¨æ­£ç¡®ï¼**

- `screen -x` - å¤šç”¨æˆ·åŒæ—¶è¿æ¥
- `screen -xR` - å…ˆdetachå…¶ä»–ï¼Œç„¶åè¿æ¥

---

**å…³é”®å‘½ä»¤**ï¼š`screen -x "dev-å¼€å‘ç¯å¢ƒ"`  
**ç”¨æˆ·å‘ç°**ï¼šâœ… æ­£ç¡®å¹¶å·²éªŒè¯  
**è§£å†³æ–¹æ¡ˆ**ï¼šå·²æ›´æ–°å¹¶è®°å½•åœ¨ SCREEN_XR_SOLUTION.md
